{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/shibuya/isography/atelier/frontend/src/components/atelier/draggableItem.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from \"react\";\n\nconst DraggableItem = props => {\n  _s();\n\n  const [x, setX] = useState(50);\n  const [y, setY] = useState(50);\n  const [gap, setGap] = useState({\n    x: 0,\n    y: 0\n  });\n  const [isMouseDown, setIsMouseDown] = useState(false);\n  const svgRef = useRef(null);\n  const isSelect = useState(false); // マウス押下時\n\n  const onMouseDown = e => {\n    setIsMouseDown(true);\n    const rect = e.currentTarget.getBoundingClientRect();\n    const mouseX = e.pageX;\n    const mouseY = e.pageY;\n    setGap({\n      x: mouseX - rect.left,\n      y: mouseY - rect.top\n    });\n  }; // マウス押下解除時\n\n\n  const onMouseUp = e => {\n    setIsMouseDown(false);\n  };\n\n  const onMouseLeave = e => {\n    setIsMouseDown(false);\n  }; // マウス移動時\n\n\n  const onMouseMove = e => {\n    // マウス押下中\n    if (isMouseDown) {\n      const mouseX = e.pageX;\n      const mouseY = e.pageY;\n      const svgRect = svgRef.current.getBoundingClientRect();\n      const relativeX = mouseX - svgRect.left;\n      const relativeY = mouseY - svgRect.top;\n      setX(relativeX - gap.x);\n      setY(relativeY - gap.y);\n    }\n  };\n\n  const onSelect = (e, item) => {\n    item = e.target;\n    console.log(e.target);\n  };\n\n  const handleKeyPress = event => {\n    if (event.key === 'Enter') {\n      console.log('enter press here! ');\n    }\n  };\n\n  const style = {\n    background: \"#fff\",\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%,-50%)\"\n  };\n  const transform = `translate(${x} ${y})`;\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    style: style,\n    id: \"svg\",\n    version: \"1.1\",\n    width: \"500\",\n    height: \"400\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    fill: \"#fff\",\n    onKeyPress: handleKeyPress,\n    children: /*#__PURE__*/_jsxDEV(\"g\", {\n      transform: transform,\n      onMouseDown: onMouseDown,\n      onMouseUp: onMouseUp,\n      onMouseMove: onMouseMove,\n      onMouseLeave: onMouseLeave,\n      children: [/*#__PURE__*/_jsxDEV(\"path\", {\n        className: \"main\",\n        d: \"M168.68,59.078l-70.627,40.776l-0,81.553l70.627,-40.776l-0,-81.553Z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M98.043,18.295l-70.627,40.777l70.637,40.782l70.627,-40.777l-70.637,-40.782Z\",\n        className: \"sub\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 102\n      }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M98.053,99.854l-70.66,-40.795l0,81.548l70.66,40.796l-0,-81.549Z\",\n        className: \"accent\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 205\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 4\n  }, this);\n};\n\n_s(DraggableItem, \"tKfllafG34+M+9VCbN2QPTDMMDw=\");\n\n_c = DraggableItem;\n\nfunction duplicateItems() {}\n\nexport default DraggableItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"DraggableItem\");","map":{"version":3,"sources":["/Users/shibuya/isography/atelier/frontend/src/components/atelier/draggableItem.js"],"names":["React","useState","useRef","DraggableItem","props","x","setX","y","setY","gap","setGap","isMouseDown","setIsMouseDown","svgRef","isSelect","onMouseDown","e","rect","currentTarget","getBoundingClientRect","mouseX","pageX","mouseY","pageY","left","top","onMouseUp","onMouseLeave","onMouseMove","svgRect","current","relativeX","relativeY","onSelect","item","target","console","log","handleKeyPress","event","key","style","background","position","transform","duplicateItems"],"mappings":"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","sourcesContent":["import React, {useState, useRef} from \"react\"\n\nconst DraggableItem = (props) => {\n    const [x, setX] = useState(50);\n    const [y, setY] = useState(50);\n    const [gap, setGap] = useState({x: 0, y: 0})\n    const [isMouseDown, setIsMouseDown] = useState(false)\n    const svgRef = useRef(null)\n    const isSelect = useState(false)\n\n    // マウス押下時\n    const onMouseDown = (e) => {\n        setIsMouseDown(true);\n        const rect = e.currentTarget.getBoundingClientRect();\n        const mouseX = e.pageX;\n        const mouseY = e.pageY;\n        setGap({ x: mouseX - rect.left, y: mouseY - rect.top });\n    }\n\n    // マウス押下解除時\n    const onMouseUp = (e) => {\n        setIsMouseDown(false);\n    }\n\n    const onMouseLeave = (e) => {\n        setIsMouseDown(false);\n    }\n\n    // マウス移動時\n    const onMouseMove = (e) => {\n        // マウス押下中\n        if (isMouseDown) {\n            const mouseX = e.pageX;\n            const mouseY = e.pageY;\n\n            const svgRect = svgRef.current.getBoundingClientRect();\n            const relativeX = mouseX - svgRect.left;\n            const relativeY = mouseY - svgRect.top;\n\n            setX(relativeX - gap.x);\n            setY(relativeY - gap.y);\n        }\n    }\n\n    const onSelect = (e, item) => {\n      item = e.target;\n        console.log(e.target)\n    }\n\n    const handleKeyPress = (event) => {\n      if(event.key === 'Enter'){\n        console.log('enter press here! ')\n      }\n    }\n\n    const style = {\n      background: \"#fff\",\n      position: \"absolute\",\n      top: \"50%\",\n      left: \"50%\",\n      transform: \"translate(-50%,-50%)\",\n    }\n\n    const transform = `translate(${x} ${y})`\n\n    return (\n   <svg\n      style={style}\n      id=\"svg\"\n      version=\"1.1\"\n      width=\"500\"\n      height=\"400\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      ref={svgRef}\n      fill=\"#fff\"\n      onKeyPress={handleKeyPress}\n    >\n    {/*<rect\n      onClick={onSelect}\n      width=\"100\"\n      height=\"100\"\n      x={x}\n      y={y}\n      className=\"main\"\n      stroke=\"#666\"\n      onMouseDown={onMouseDown}\n      onMouseUp={onMouseUp}\n      onMouseMove={onMouseMove}\n      onMouseLeave={onMouseLeave}\n    />*/}\n\n      <g transform={transform}\n         onMouseDown={onMouseDown}\n         onMouseUp={onMouseUp}\n         onMouseMove={onMouseMove}\n         onMouseLeave={onMouseLeave}\n      >\n      <path className=\"main\" d=\"M168.68,59.078l-70.627,40.776l-0,81.553l70.627,-40.776l-0,-81.553Z\"/><path d=\"M98.043,18.295l-70.627,40.777l70.637,40.782l70.627,-40.777l-70.637,-40.782Z\" className=\"sub\"/><path d=\"M98.053,99.854l-70.66,-40.795l0,81.548l70.66,40.796l-0,-81.549Z\" className=\"accent\"/>\n      </g>\n    </svg>\n    )\n}\n\nfunction duplicateItems() {\n\n}\n\nexport default DraggableItem;\n"]},"metadata":{},"sourceType":"module"}