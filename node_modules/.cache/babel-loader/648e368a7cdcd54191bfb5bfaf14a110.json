{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/shibuya/isography/atelier/frontend/src/components/draggableItem.js\";\nimport React, { useState, ureRef } from 'react'; //\n//   DraggableItem.create('svg', editableItem);\n//\n//   * Drag Items\n//   * Resize Items\n//   * Modify colors of Items\n//\n\n/** 選んだ画像をドラッグして移動 **/\n\nclass DraggableItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cx: 100,\n      cy: 100\n    };\n  }\n\n  componentDidMount() {\n    this.timerID = setInterval(() => this.tick(), 1000);\n  }\n\n  render() {\n    const [x, setX] = useState(50);\n    const [y, setY] = useState(50);\n    const [gap, setGap] = useState({\n      x: 0,\n      y: 0\n    });\n    const [isMouseDown, setIsMouseDown] = useState(false);\n    const svgRef = useRef(null); // マウス押下時\n\n    const onMouseDown = e => {\n      setIsMouseDown(true);\n      const rect = e.currentTarget.getBoundingClientRect();\n      const mouseX = e.pageX;\n      const mouseY = e.pageY;\n      setGap({\n        x: mouseX - rect.left,\n        y: mouseY - rect.top\n      });\n    }; // マウス押下解除時\n\n\n    const onMouseUp = e => {\n      setIsMouseDown(false);\n    }; // マウス移動時\n\n\n    const onMouseMove = e => {\n      // マウス押下中\n      if (isMouseDown) {\n        const mouseX = e.pageX;\n        const mouseY = e.pageY;\n        const svgRect = svgRef.current.getBoundingClientRect();\n        const relativeX = mouseX - svgRect.left;\n        const relativeY = mouseY - svgRect.top;\n        setX(relativeX - gap.x);\n        setY(relativeY - gap.y);\n      }\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"circle\", {\n      id: \"ball1\",\n      cx: this.state.cx,\n      cy: this.state.cy,\n      onMouseDown: onMouseDown,\n      onMouseUp: onMouseUp,\n      onMouseMove: onMouseMove,\n      r: \"20\",\n      fill: \"blue\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default DraggableItem;","map":{"version":3,"sources":["/Users/shibuya/isography/atelier/frontend/src/components/draggableItem.js"],"names":["React","useState","ureRef","DraggableItem","Component","constructor","props","state","cx","cy","componentDidMount","timerID","setInterval","tick","render","x","setX","y","setY","gap","setGap","isMouseDown","setIsMouseDown","svgRef","useRef","onMouseDown","e","rect","currentTarget","getBoundingClientRect","mouseX","pageX","mouseY","pageY","left","top","onMouseUp","onMouseMove","svgRect","current","relativeX","relativeY"],"mappings":";;AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,MAAvB,QAAoC,OAApC,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;;AAEA,MAAMC,aAAN,SAA4BH,KAAK,CAACI,SAAlC,CAA4C;AAE1CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AAACC,MAAAA,EAAE,EAAC,GAAJ;AAAQC,MAAAA,EAAE,EAAC;AAAX,KAAb;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,OAAL,GAAeC,WAAW,CACxB,MAAM,KAAKC,IAAL,EADkB,EAExB,IAFwB,CAA1B;AAID;;AAEDC,EAAAA,MAAM,GAAG;AAEP,UAAM,CAACC,CAAD,EAAIC,IAAJ,IAAYf,QAAQ,CAAC,EAAD,CAA1B;AACA,UAAM,CAACgB,CAAD,EAAIC,IAAJ,IAAYjB,QAAQ,CAAC,EAAD,CAA1B;AACA,UAAM,CAACkB,GAAD,EAAMC,MAAN,IAAgBnB,QAAQ,CAAC;AAACc,MAAAA,CAAC,EAAE,CAAJ;AAAOE,MAAAA,CAAC,EAAE;AAAV,KAAD,CAA9B;AACA,UAAM,CAACI,WAAD,EAAcC,cAAd,IAAgCrB,QAAQ,CAAC,KAAD,CAA9C;AACA,UAAMsB,MAAM,GAAGC,MAAM,CAAC,IAAD,CAArB,CANO,CAQP;;AACA,UAAMC,WAAW,GAAIC,CAAD,IAAO;AACvBJ,MAAAA,cAAc,CAAC,IAAD,CAAd;AACA,YAAMK,IAAI,GAAGD,CAAC,CAACE,aAAF,CAAgBC,qBAAhB,EAAb;AACA,YAAMC,MAAM,GAAGJ,CAAC,CAACK,KAAjB;AACA,YAAMC,MAAM,GAAGN,CAAC,CAACO,KAAjB;AACAb,MAAAA,MAAM,CAAC;AAAEL,QAAAA,CAAC,EAAEe,MAAM,GAAGH,IAAI,CAACO,IAAnB;AAAyBjB,QAAAA,CAAC,EAAEe,MAAM,GAAGL,IAAI,CAACQ;AAA1C,OAAD,CAAN;AACH,KAND,CATO,CAiBP;;;AACA,UAAMC,SAAS,GAAIV,CAAD,IAAO;AACrBJ,MAAAA,cAAc,CAAC,KAAD,CAAd;AACH,KAFD,CAlBO,CAsBP;;;AACA,UAAMe,WAAW,GAAIX,CAAD,IAAO;AACvB;AACA,UAAIL,WAAJ,EAAiB;AACb,cAAMS,MAAM,GAAGJ,CAAC,CAACK,KAAjB;AACA,cAAMC,MAAM,GAAGN,CAAC,CAACO,KAAjB;AAEA,cAAMK,OAAO,GAAGf,MAAM,CAACgB,OAAP,CAAeV,qBAAf,EAAhB;AACA,cAAMW,SAAS,GAAGV,MAAM,GAAGQ,OAAO,CAACJ,IAAnC;AACA,cAAMO,SAAS,GAAGT,MAAM,GAAGM,OAAO,CAACH,GAAnC;AAEAnB,QAAAA,IAAI,CAACwB,SAAS,GAAGrB,GAAG,CAACJ,CAAjB,CAAJ;AACAG,QAAAA,IAAI,CAACuB,SAAS,GAAGtB,GAAG,CAACF,CAAjB,CAAJ;AACH;AACJ,KAbD;;AAeA,wBACE;AAAQ,MAAA,EAAE,EAAC,OAAX;AACQ,MAAA,EAAE,EAAE,KAAKV,KAAL,CAAWC,EADvB;AAEQ,MAAA,EAAE,EAAE,KAAKD,KAAL,CAAWE,EAFvB;AAGQ,MAAA,WAAW,EAAEgB,WAHrB;AAIQ,MAAA,SAAS,EAAEW,SAJnB;AAKQ,MAAA,WAAW,EAAEC,WALrB;AAMQ,MAAA,CAAC,EAAC,IANV;AAMe,MAAA,IAAI,EAAC;AANpB;AAAA;AAAA;AAAA;AAAA,YADF;AASD;;AA7DyC;;AAgE5C,eAAelC,aAAf","sourcesContent":["import React,{useState,ureRef} from 'react';\n//\n//   DraggableItem.create('svg', editableItem);\n//\n//   * Drag Items\n//   * Resize Items\n//   * Modify colors of Items\n//\n\n\n/** 選んだ画像をドラッグして移動 **/\n\nclass DraggableItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {cx:100,cy:100};\n  }\n\n  componentDidMount() {\n    this.timerID = setInterval(\n      () => this.tick(),\n      1000\n    );\n  }\n\n  render() {\n\n    const [x, setX] = useState(50);\n    const [y, setY] = useState(50);\n    const [gap, setGap] = useState({x: 0, y: 0})\n    const [isMouseDown, setIsMouseDown] = useState(false)\n    const svgRef = useRef(null)\n\n    // マウス押下時\n    const onMouseDown = (e) => {\n        setIsMouseDown(true);\n        const rect = e.currentTarget.getBoundingClientRect();\n        const mouseX = e.pageX;\n        const mouseY = e.pageY;\n        setGap({ x: mouseX - rect.left, y: mouseY - rect.top });\n    }\n\n    // マウス押下解除時\n    const onMouseUp = (e) => {\n        setIsMouseDown(false);\n    }\n\n    // マウス移動時\n    const onMouseMove = (e) => {\n        // マウス押下中\n        if (isMouseDown) {\n            const mouseX = e.pageX;\n            const mouseY = e.pageY;\n\n            const svgRect = svgRef.current.getBoundingClientRect();\n            const relativeX = mouseX - svgRect.left;\n            const relativeY = mouseY - svgRect.top;\n\n            setX(relativeX - gap.x);\n            setY(relativeY - gap.y);\n        }\n    }\n    \n    return (\n      <circle id=\"ball1\"\n              cx={this.state.cx}\n              cy={this.state.cy}\n              onMouseDown={onMouseDown}\n              onMouseUp={onMouseUp}\n              onMouseMove={onMouseMove}\n              r=\"20\" fill=\"blue\" />\n    )\n  }\n}\n\nexport default DraggableItem;\n"]},"metadata":{},"sourceType":"module"}